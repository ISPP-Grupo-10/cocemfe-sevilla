{% extends 'base.html' %}
{% block title %}Detalles{% endblock %}
{% block encabezado %}
{% endblock %}
{% block contenido %}

<style>
    .map-container {
        flex: 80; 
        width: 100%; 
    }
    .list-container {
        flex: 20; 
        overflow-y: auto; 
        padding: 10px; 
        box-sizing: border-box;
    }

    .document-list {
        list-style: none; 
        padding: 0;
    }

 
    .document-item {
        margin-bottom: 10px;
    }
    .container-map {
        display: flex;
        flex-direction: row; 
        max-width: 100%; 
        overflow: hidden; 
    }
</style>
<div class="container-map">
    <div class="map-container">
        {{ mapa_html | safe }}
    </div>
    <div class="list-container">
        {% for city, documents in documents_by_city.items %}
        {% for coordinate in coordinates %}
            {% if coordinate.location == city %}
                <a href="{% url 'maps:map_search' coordinate.latitude coordinate.longitude %}">{{ city }}</a>
            {% endif %}
        {% endfor %}
            <ul class="document-list">
                {% for document in documents %}
                    <li class="document-item">{{ document.name }}</li>
                {% endfor %}
            </ul>
        {% endfor %}
    </div>
</div>

        <script src="https://unpkg.com/folium/folium.js"></script>
{% endblock %}